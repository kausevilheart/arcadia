<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arcádia</title>
<style>
:root{
    --header-bg:#2c1d2c;
    --accent-green:#a5d194;
    --card-bg:#7f416d;
    --text-dark:#2c1d2c;
    --cart-bg:#332c3b;
    --cart-accent:#915e91;
    --btn-bg:#a5d194;
    --glow-color: rgba(145,94,145,0.6);
    --side-margin: 20px;

    /* Cores exclusivas para tags */
    --tag-edicao-limitada:#ff8c42;
    --tag-premium:#f2d600;
    --tag-out-of-print:#111111; /* Preto próximo */
    --tag-novo:#42c5f5;
    --tag-importado:#7f00ff;
    --tag-raro:#ff1493;
    --tag-rarissimo:#800020; /* Vinho */
    --tag-expansao:#32cd32;
    --tag-usado:#808080; /* Cinza */
    --tag-nacional:#4caf50;
    --tag-edicao-numerada:#ffbf00; /* Mais chamativo */
    --tag-semi-pro:#ff7f50; /* Coral */
    --tag-moyu:#00ced1;     /* Turquesa */
    --tag-brinde: #f2a65a;      /* Laranja claro, destaque sem pesar */
    --tag-danificado: #d9534f;   /* Vermelho queimado, alerta */
    --tag-sob-demanda: #9b59b6; /* Roxo médio, elegante */
    --tag-box: #f39c12;          /* Amarelo escuro, marcante */
    --tag-gadget: #1abc9c;       /* Verde-água, moderno */
    --tag-eletronico: #3498db;   /* Azul, tecnológico */
    --tag-completo: #6c5ce7; /* Roxo vibrante, destaque visual */
    --tag-luxo: #f1c40f;     /* Amarelo ouro, elegante */
    --tag-capa-dura: #e67e22; /* Laranja queimado, destaque */
    --tag-panini: #e74c3c;   /* Vermelho vibrante, destaque editorial */
    --tag-lacrado: #27ae60;  /* Verde intenso, sinalização positiva */
    --tag-mythos: #8e44ad;   /* Roxo escuro, diferenciado */





    /* Cor botão Saiba Mais */
    --btn-saiba:#f2a65a;
}

/* Reset e layout */
*{box-sizing:border-box;}
body{margin:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f0f0f5;color:#222;display:flex;flex-direction:column;}

/* Header só com logo */
header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    background: var(--header-bg);
    box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}
#header-logo { height: 70px; }
@media(max-width:900px){ #header-logo{height:50px;} }
@media(max-width:600px){ #header-logo{height:40px;} }

/* Container e grid */
.container{display:flex;flex:1;max-width:1300px;margin:20px auto;gap:22px;position:relative;}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;flex:1;}
@media(max-width:1200px){.grid{grid-template-columns:repeat(3,1fr);} }
@media(max-width:900px){.container{flex-direction:column;}.grid{grid-template-columns:repeat(2,1fr);} }
@media(max-width:600px){.grid{grid-template-columns:1fr;} }

/* Cards */
@keyframes fadeUp{from{opacity:0;transform:translateY(18px) scale(0.995);}to{opacity:1;transform:translateY(0) scale(1);}}
@keyframes glowPulse{0%,100%{box-shadow:0 0 8px var(--glow-color);}50%{box-shadow:0 0 20px 6px var(--glow-color);} }
.card{
    background:var(--card-bg);
    border-radius:14px;
    padding:18px;
    text-align:center;
    color:white;
    transition:transform 0.25s, box-shadow 0.25s;
    opacity:0;
    animation:fadeUp 0.6s cubic-bezier(.2,.9,.2,1) forwards, glowPulse 2.5s ease-in-out infinite;
    max-width: 180px;
    word-wrap: break-word;
}
.card:hover{transform:translateY(-8px) scale(1.02);}
.card img{width:100%;border-radius:10px;margin-bottom:14px;}
.card h3{
    font-size:1.15em;
    margin:6px 0;
    font-weight:700;
    color:#e6d0f1;
    white-space: pre-line; /* ← respeita as quebras de linha */
    max-height: none;
    overflow: visible;     
}

/* Botões */
.btn{
    display:inline-block;
    margin-top:10px;
    padding:12px 22px;
    background:linear-gradient(180deg,var(--btn-bg),#8fc37d);
    color:var(--header-bg);
    border-radius:14px;
    font-weight:800;
    cursor:pointer;
    border:none;
    box-shadow:0 6px 14px rgba(133,175,121,0.18);
    font-size:1em;
    transition:transform 0.22s ease, box-shadow 0.22s ease;
    display:block;
    margin-left:auto;
    margin-right:auto;
}
.btn:hover{transform:scale(1.04);box-shadow:0 12px 26px rgba(133,175,121,0.22);}
.btn:active{transform:scale(0.96);opacity:0.95;}

/* Botão Saiba Mais */
.btn-saiba{
    display:block;
    margin:8px auto 6px auto;
    padding:8px 16px;
    background: var(--btn-saiba);
    color: var(--header-bg);
    border-radius:10px;
    font-weight:700;
    font-size:0.9em;
    cursor:pointer;
    text-decoration:none;
    transition: transform 0.22s ease, box-shadow 0.22s ease;
}
.btn-saiba:hover{
    transform: scale(1.04);
    box-shadow: 0 6px 14px rgba(133,175,121,0.18);
}
.btn-saiba:active{
    transform: scale(0.96);
    opacity: 0.95;
}

/* Tags */
.tag{
    display:inline-block;
    padding:3px 8px;
    margin:2px 2px 6px 2px;
    border-radius:8px;
    font-size:0.75em;
    font-weight:700;
}

/* Barra lateral */
#sidebar{width:200px;position:fixed;top:120px;left:var(--side-margin);display:flex;flex-direction:column;gap:16px;padding:10px;max-height:calc(100vh - 140px);overflow-y:auto;}
#sidebar button{width:calc(100% - 20px);font-size:1.15em;background:var(--accent-green);color:var(--header-bg);border:none;padding:12px;border-radius:10px;font-weight:700;cursor:pointer;transition:0.2s;}
#sidebar button:hover{background:#8fc37d;}
#sidebar button:first-child{background:#f0c75e;color:#2c1d2c;}
#sidebar button:first-child:hover{background:#e6b94a;}
@media(max-width:900px){
  #sidebar{position:relative;top:0;width:100%;flex-direction:row;overflow-x:auto;max-height:none;padding:10px;gap:8px;}
  #sidebar button{flex:0 0 auto;width:auto;white-space:nowrap;}
}

/* Carrinho */
#cart{
    width:320px;
    background:var(--cart-bg);
    padding:16px;
    border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,0.18);
    position:fixed;
    top:120px;
    right:var(--side-margin);
    color:white;
    display:flex;
    flex-direction:column;
    max-height:calc(100vh - 140px);
}
#cart h3{margin:6px 0 12px;text-align:center;color:var(--accent-green);}
#cart-items{list-style:none;padding:0;margin:0;overflow-y:auto;flex:1;}
.cart-item{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;border-bottom:1px solid #7f416d;padding-bottom:10px;}
.cart-details{flex:1;min-width:0;}
.cart-details p:first-child{margin:0;font-weight:700;font-size:0.95em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.cart-details p:nth-child(2){margin:4px 0 0;font-size:0.86em;color:#cfcfcf;}
.quantity-controls{display:inline-flex;gap:6px;align-items:center;margin-top:8px;}
.quantity-controls button{width:28px;height:28px;display:inline-grid;place-items:center;background:var(--accent-green);color:var(--cart-bg);border:none;border-radius:6px;cursor:pointer;font-weight:800;}
.quantity-controls span{font-weight:800;padding:0 6px;min-width:20px;text-align:center;}
.remove-btn{background:#ff5a5a;color:#fff;border:none;padding:6px 10px;border-radius:8px;cursor:pointer;font-size:0.85em;font-weight:700;}
.remove-btn:hover{transform:scale(1.06);}
#cart-total{font-size:1.12em;font-weight:800;text-align:right;margin-top:8px;color:var(--accent-green);}
.checkout-btn{margin-top:12px;width:100%;padding:12px;border-radius:12px;font-weight:900;background:linear-gradient(180deg,var(--cart-accent),#7f416d);color:white;border:none;cursor:pointer;}
.checkout-btn:hover{transform:scale(1.02);}

/* Toast */
#toast{position:fixed;bottom:40px;left:50%;transform:translateX(-50%);background:var(--accent-green);color:var(--header-bg);padding:12px 20px;border-radius:12px;font-weight:800;opacity:0;pointer-events:none;transition:opacity 0.4s;}

/* Página inicial texto grande */
#home-text{grid-column:1/-1;text-align:center;font-size:1.6em;color:#2c1d2c;padding:60px 20px;white-space:pre-line;line-height:1.6em;margin-left:calc(200px + var(--side-margin)); margin-right:calc(320px + var(--side-margin));}
@media(max-width:900px){#home-text{margin:0;} #cart{position:relative;width:100%;top:auto;right:auto;margin-top:20px;}}
</style>
</head>
<body>

<header>
  <img src="nome.png" alt="Arcádia" id="header-logo">
</header>

<div id="sidebar">
  <button onclick="showCategory('all')">Início</button>
  <button onclick="showCategory('jogos')">Jogos</button>
  <button onclick="showCategory('pacotes')">Pacotes de Jogos</button>
  <button onclick="showCategory('mangas')">Mangás</button>
  <button onclick="showCategory('quadrinhos')">Quadrinhos</button>
  <button onclick="showCategory('livros')">Livros</button>
  <button onclick="showCategory('rpg')">RPG</button>
  <button onclick="showCategory('diversos')">Diversos</button>
  <button onclick="showCategory('canecas')">Canecas</button>
  <button onclick="showCategory('cubos')">Cubos Mágicos</button>
</div>

<div class="container">
  <div class="grid" id="product-grid"></div>
  <aside id="cart">
    <h3>Carrinho</h3>
    <ul id="cart-items"></ul>
    <p id="cart-total">Total: R$0,00</p>
    <button class="checkout-btn" onclick="checkout()">Finalizar Compra</button>
  </aside>
</div>

<div id="toast">Produto adicionado ao carrinho</div>

<script>
let cart = JSON.parse(localStorage.getItem('arcadia_cart_v7')) || [];
function saveCart(){ localStorage.setItem('arcadia_cart_v7', JSON.stringify(cart)); }

const products={
  jogos:[
    
    {name:'Dust', price:250, img:'', tags:['Importado','Raro'], link:'https://ludopedia.com.br/jogo/dust'},
    {name:'504', price:200, img:'', tags:['Importado'], link:'https://ludopedia.com.br/jogo/504'},
    {name:'Illimat', price:150, img:'', tags:['Importado','Raro','Out of Print'], link:'https://ludopedia.com.br/jogo/illimat'},
    {name:'Neuroshina Hex 3.0', price:100, img:'', tags:['Nacional','Out of Print'], link:'https://ludopedia.com.br/jogo/neuroshima-hex-3-0'},
    {name:'The Lord of The Ice Garden', price:1200, img:'', tags:['Importado','Edição Limitada','Edição Numerada','Out of Print','Raríssimo'], link:'https://ludopedia.com.br/jogo/the-lord-of-the-ice-garden'},
    { name: 'Game of Thrones Card Game + 9 Expansões', price: 200, img: '', tags:['Nacional','Out of Print','+ Expansão'], link:'#' },
    { name: 'Dance of the Fireflies', price: 150, img: '', tags:['Importado','Raro'], link:'#' },
    { name: 'Gardens', price: 200, img: '', tags:['Nacional','Out of Print','Raro'], link:'#' },
    { name: 'Tao Long', price: 150, img: '', tags:['Nacional','Luxo','Edição Limitada'], link:'#' },
    { name: 'Dom Capollo', price: 100, img: '', tags:['Nacional','Out of Print'], link:'#' },
    { name: '7 Wonders', price: 175, img: '', tags:['Nacional'], link:'#' },
    { name: 'Ryu', price: 150, img: '', tags:['Raro','Importado'], link:'#' },
    { name: 'Zona Mágica', price: 100, img: '', tags:['Nacional'], link:'#' },
    { name: '4 Gods', price: 100, img: '', tags:['Nacional'], link:'#' },
    { name: 'Summoner Wars Master Set + 12 Expansões', price: 250, img: '', tags:['Nacional','Completo','Out of Print'], link:'#' },
    { name: 'Orient Express', price: 200, img: '', tags:['Importado','Raríssimo','Out of Print'], link:'#' },
    { name: 'The Circle', price: 150, img: '', tags:['Importado','Raro','Out of Print'], link:'#' },
    { name: 'Traders of Osaka', price: 150, img: '', tags:['Importado'], link:'#' },
    { name: 'Inis - Big Box Matagot', price: 350, img: '', tags:['Importado','Out of Print'], link:'#' },
    { name: 'Five Tribes + Artisans of Naqala + Thieves of Naqala', price: 550, img: '', tags:['+ Expansão','Importado'], link:'#' },
    { name: 'Samurai Gardener', price: 100, img: '', tags:['Importado','Raro'], link:'#' }




  ],
  pacotes:[
    {
    name: "Kit Festinha\n\n7 Jogos\n\nCoup\nBandido\nQuem Foi?\nSaboteur\nAdoradores de Cthulhu\nAvalon",
    price: 275,
    img: '',
    tags: ['Nacional','Importado','Novo'],
    link: '#'
  },
  {
    name: "Kit Um Pouco de Cada\n\n8 Jogos\n\nClaim\nThe Mind\nSapotagem\nContária\nMatryoshka\nAgent Hunter\nBullfrogs\nPocket Imperium",
    price: 315,
    img: '',
    tags: ['Nacional','Importado','Novo','Usado'],
    link: '#'
  },
  {
    name: "Kit Assustador\n\n9 Jogos\n\n13 Fantasmas\nLondon After Midnight\nMuertoons\nDia de Los Muertos\nLobisomem Por Uma Noite\nMasques\nFear\nNosferatu\nAnkh",
    price: 355,
    img: '',
    tags: ['Nacional','Importado','Novo','Usado','Raro','Raríssimo'],
    link: '#'
  },
  {
    name: "Kit Raros Importados\n\n16 Jogos\n\nKill Shot\nTop Gun - The Plot Twist Party Game\nLucha Jeffe\nDeck Building - The Deck Building Game\nFor Sale\nLemonade Stand\nArche Noah\nCrazy Lab\nKobayakawa\nBaby Blues\nC'est Mon Fort\nKnee Jerk\nVizia\nKrakatoa\nHunting Party",
    price: 620,
    img: '',
    tags: ['Novo','Usado','Importado','Lacrado','Raro','Raríssimo'],
    link: '#'
  }
    
  ],
  mangas: [
    {name:'Vinland Saga (1 a 9)', price:80, img:'', tags:['Nacional'], link:'#'},
    {name:'Ataque dos Titãs (1 a 11)', price:100, img:'', tags:['Nacional','+ Brinde'], link:'#'},
    {name:'All You Need is Kill', price:25, img:'', tags:['Nacional','Completo'], link:'#'}
  ],
  quadrinhos: [
    {name:'A Última Caçada de Kraven', price:40, img:'', tags:['Capa Dura','Panini','Lacrado'], link:'#'},
    {name:'Camelot 3000', price:25, img:'', tags:['Mythos','Danificado'], link:'#'},
    {name:'Marvel Especial - Vingança', price:20, img:'', tags:['Capa Dura'], link:'#'},
    {name:'Marvel X - Terra X e Universo X e Paraíso X', price:420, img:'', tags:['Capa Dura','Luxo'], link:'#'},
    {name:'Vingadores vs. X-Men vs. Quarteto Fantástico', price:35, img:'', tags:['Lacrado'], link:'#'},
    {name:'Savage Dragon - Unidos', price:25, img:'', tags:['Novo'], link:'#'}
  ],
  livros: [
    {name:'Não Faça Acordos com o Dragão (Shadowrun)', price:10, img:'', tags:['Usado','Raríssimo'], link:'#'},
    {name:'Os Três Mosqueteiros', price:12, img:'', tags:['Capa Dura','Luxo','Raro'], link:'#'},
    {name:'Metallica - Biografia', price:12, img:'', tags:[], link:'#'},
    {name:'O Cavalo e Seu Menino', price:10, img:'', tags:['Lacrado'], link:'#'},
    {name:'The Witcher - A Espada do Destino', price:10, img:'', tags:['Raro','Usado','Danificado'], link:'#'},
    {name:'Mestres do Mistério - Edgar Allan Poe e Outros', price:10, img:'', tags:['Novo'], link:'#'},
    {name:'O Corvo', price:12, img:'', tags:['Novo'], link:'#'},
    {name:'O Pequeno Príncipe', price:15, img:'', tags:['Novo'], link:'#'},
    {name:'O Escaravelho de Ouro e Outras Histórias', price:10, img:'', tags:['Usado','Danificado'], link:'#'},
    {name:'O Cavaleiro Inexistente', price:10, img:'', tags:['Novo'], link:'#'},
    {name:'O Nome do Vento', price:25, img:'', tags:[], link:'#'},
    {name:'O Silmarillion', price:20, img:'', tags:['Nacional'], link:'#'},
    {name:'O Silmarillion', price:45, img:'', tags:['Importado','Luxo','Capa Dura','Raro'], link:'#'},
    {name:'Banquete de Gelo & Fogo', price:35, img:'', tags:['Capa Dura'], link:'#'},
    {name:'O Senhor dos Anéis', price:650, img:'', tags:['Completo','Luxo','Edição Numerada','Edição Limitada','Capa Dura'], link:'#'}
  ],
  
  rpg: [
  {name:'Ars Magica 5ª Ed', price:120, img:'', tags:['Novo','Nacional'], link:'https://ludopedia.com.br/jogo/ars-magica-5th-edition'},
  {name:'Guia da Camarilla 3ª Edição', price:100, img:'', tags:['Raríssimo','Usado'], link:'https://ludopedia.com.br/jogo/vampire-the-masquerade-revised-edition-guide-to-the-camarilla'},
  {name:'Starfinder', price:160, img:'', tags:['Novo','Nacional'], link:'https://ludopedia.com.br/jogo/starfinder-core-rulebook'},
  {name:'The Strange', price:120, img:'', tags:['Novo','Nacional'], link:'https://ludopedia.com.br/jogo/the-strange'},
  {name:'O Um Anel 2ª Edição + Compêndio Rivendell', price:150, img:'', tags:['Novo','+ Brinde'], link:'https://ludopedia.com.br/jogo/the-one-ring-second-edition-core-rules'},
  {name:'Vampiro: A Máscara 5ª ED', price:250, img:'', tags:['Luxo','Novo'], link:'https://ludopedia.com.br/jogo/vampire-the-masquerade-5th-edition-core-book-deluxe'},
  {name:'Anarch + Camarilla', price:100, img:'', tags:['Expansão','Novo','Importado'], link:'https://ludopedia.com.br/jogo/vampire-the-masquerade-5th-edition-anarch'},
  {name:'O Um Anel 1ª Edição (Além do Ermo) + Dados Especiais + Escudo do Mestre + Atlas da Terra Média', price:450, img:'', tags:['+ Brinde','Raríssimo'], link:'https://ludopedia.com.br/jogo/the-one-ring-adventures-over-the-edge-of-the-wild'}
    
  ],
  diversos: [
    { name:'Walkie Talkie - Par', price:50, img:'', tags:['Eletrônico'], link:'#' },
    { name:"Sid Meyer's Pirates - CD-Rom", price:20, img:'', tags:[], link:'#' }
    
  ],
  canecas: [
    {name:'Caneca Personalizada', price:27, img:'', tags:['Sob Demanda'], link:'#'},
    {name:'Caneca Mágica Personalizada', price:47, img:'', tags:['Sob Demanda'], link:'#'}
    
  ],
  cubos: [
   {name:'2x2x2', price:35, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'3x3x3', price:35, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'4x4x4', price:45, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'5x5x5', price:50, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'6x6x6', price:60, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'Megamix', price:60, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'Piramyx', price:35, img:'', tags:['Semi-Pro','MoYu'], link:'#'},
   {name:'Mirror Prata', price:38, img:'', tags:[], link:'#'},
   {name:'Mirror Ouro', price:38, img:'', tags:[], link:'#'},
   {name:'Skewb', price:45, img:'', tags:['MoYu'], link:'#'},
    {name:'Pyramorphix 3x3x3', price:45, img:'', tags:['MoYu'], link:'#'}
  ]
};

// Funções principais
function showCategory(cat){
  const grid=document.getElementById('product-grid');
  grid.innerHTML='';
  if(cat==='all'){
    grid.innerHTML=`<div id="home-text">
O que temos aqui? Muita coisa. 

Tem jogos, em livros, tem até Walkie Talkie!

Muitas coisas precisam achar novos donos por que já não posso mais tê-las, e essa vão ser no melhor preço possível.

Já outras coisas... Tem coisas que realmente não quero me desfazer, mas se aparecer o preço justo pra que isso aconteça, então era pra ser. Então dá uma olhada, e se algo te interessar, clica ali em contato e me chama.

Ah, já ia me esquecendo, mas não vou por imagem por que ia ser muito trabalhoso, se precisar de foto, clica ali embaixo e me chama.
    </div>`;
    return;
  }
  (products[cat]||[]).forEach((p,i)=>{
    const card=document.createElement('div');
    card.className='card';
    card.style.animationDelay=(i*0.08)+'s';

    let tagsHTML = '';
    p.tags.forEach(tag=>{
      let color = '';
      switch(tag.toLowerCase()){
        case 'edição limitada': color='var(--tag-edicao-limitada)'; break;
        case 'premium': color='var(--tag-premium)'; break;
        case 'out of print': color='var(--tag-out-of-print)'; break;
        case 'novo': color='var(--tag-novo)'; break;
        case 'importado': color='var(--tag-importado)'; break;
        case 'raro': color='var(--tag-raro)'; break;
        case 'raríssimo': color='var(--tag-rarissimo)'; break;
        case '+ expansão': color='var(--tag-expansao)'; break;
        case 'usado': color='var(--tag-usado)'; break;
        case 'nacional': color='var(--tag-nacional)'; break;
        case 'edição numerada': color='var(--tag-edicao-numerada)'; break;
        case 'semi-pro': color='var(--tag-semi-pro)'; break;
        case 'moyu': color='var(--tag-moyu)'; break;
        case '+ brinde': color='var(--tag-brinde)'; break;
        case 'danificado': color='var(--tag-danificado)'; break;
        case 'sob demanda': color='var(--tag-sob-demanda)'; break;
        case 'box': color='var(--tag-box)'; break;
        case 'gadget': color='var(--tag-gadget)'; break;
        case 'eletrônico': color='var(--tag-eletronico)'; break;
        case 'completo': color='var(--tag-completo)'; break;
        case 'luxo': color='var(--tag-luxo)'; break;
        case 'capa dura': color='var(--tag-capa-dura)'; break;
        case 'panini': color='var(--tag-panini)'; break;
        case 'lacrado': color='var(--tag-lacrado)'; break;
        case 'mythos': color='var(--tag-mythos)'; break;


        


        default: color='#888'; break;
      }
      tagsHTML += `<span class="tag" style="background:${color}">${tag}</span>`;
    });

    card.innerHTML=`
  ${p.img?`<img src="${p.img}" alt="${p.name}">`:''}
  <h3>${p.name}</h3>
  <p>R$${p.price.toFixed(2)}</p>
  ${tagsHTML}
  ${ (cat==='jogos' || cat==='RPG') ? `<a href="${p.link}" class="btn-saiba" target="_blank">Saiba Mais</a>` : '' }
  <button class="btn" onclick="addToCart('${p.name}',${p.price},'${p.img}',this)">Comprar</button>
`;

    grid.appendChild(card);
  });
}

function addToCart(name, price, img, btn){
  const existing = cart.find(i=>i.name===name);
  if(existing) existing.quantity++;
  else cart.push({name,price,quantity:1});
  updateCart();
  saveCart();
  showToast();
  openCart();
}

function removeFromCart(name){ cart=cart.filter(i=>i.name!==name); updateCart(); saveCart(); }
function changeQuantity(name, delta){ const item=cart.find(i=>i.name===name); if(!item)return; item.quantity+=delta; if(item.quantity<1)item.quantity=1; updateCart(); saveCart(); }

function updateCart(){
  const container=document.getElementById('cart-items');
  container.innerHTML='';
  let total=0;
  cart.forEach(item=>{
    const li=document.createElement('li'); li.className='cart-item';
    li.innerHTML=`
      <div class="cart-details">
        <p title="${item.name}">${item.name}</p>
        <p>R$${item.price.toFixed(2)} x${item.quantity} = R$${(item.price*item.quantity).toFixed(2)}</p>
        <div class="quantity-controls">
          <button onclick="changeQuantity('${item.name}',-1)">−</button>
          <span>${item.quantity}</span>
          <button onclick="changeQuantity('${item.name}',1)">+</button>
        </div>
      </div>
      <div>
        <button class="remove-btn" onclick="removeFromCart('${item.name}')">Remover</button>
      </div>
    `;
    container.appendChild(li);
    total+=item.price*item.quantity;
  });
  document.getElementById('cart-total').textContent=`Total: R$${total.toFixed(2)}`;
}

function checkout(){
  if(cart.length===0){ alert('Carrinho vazio!'); return; }
  let msg="Olá! Quero comprar:\n";
  cart.forEach(i=>msg+=`- ${i.name} x${i.quantity} = R$${(i.price*i.quantity).toFixed(2)}\n`);
  const total=cart.reduce((s,i)=>s+i.price*i.quantity,0);
  msg+=`Total: R$${total.toFixed(2)}`;
  const phone='5586995586252';
  window.open(`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`,'_blank');
}

function openCart(){ document.getElementById('cart').classList.add('open'); }

function showToast(){
  const toast=document.getElementById('toast');
  toast.textContent="Produto adicionado ao carrinho";
  toast.style.opacity='1';
  setTimeout(()=>{toast.style.opacity='0';},1400);
}

/* Inicializa */
showCategory('jogos');
updateCart();
if(cart.length>0) openCart();
</script>

</body>
</html>
